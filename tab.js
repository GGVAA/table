const tableData = [
  {
    logo: "img/1Tab.png",
    id: 1,
    logoName: "Figma",
    link: "https://www.figma.com/",
    cardType: "Visa",
    cardNumber: "*****2458",
    name: "Itai Bracha",
    date1: "Jan 5,2022",
    date1ToCompare: "2022-01-05",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
  {
    logo: "img/2Tab.png",
    logoName: "Abode XD",
    id: 2,
    link: "https://www.adobe.com/",
    cardType: "Visa",
    cardNumber: "*****4268",
    name: "Anna",
    date1: "Jan 10,2022",
    date1ToCompare: "2022-01-10",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/3Tab.png",
    logoName: "Mailchimp",
    id: 3,
    link: "https://mailchimp.com/",
    cardType: "Visa",
    cardNumber: "*****9456",
    name: "Kate",
    date1: "Jan 14,2022",
    date1ToCompare: "2022-01-14",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/4Tab.png",
    logoName: "WIX",
    id: 4,
    link: "https://www.wix.com/",
    status: "Pending",
    cardType: "Visa",
    cardNumber: "*****1025",
    name: "Bob",
    date1: "Jan 28,2022",
    date1ToCompare: "2022-01-28",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/5Tab.png",
    logoName: "Youtube",
    id: 5,
    link: "https://www.youtube.com/",
    cardType: "Visa",
    cardNumber: "*****8965",
    name: "Max",
    date1: "Jan 18,2022",
    date1ToCompare: "2022-01-18",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/5Tab.png",
    logoName: "Youtube",
    id: 6,
    link: "https://www.youtube.com/",
    cardType: "Visa",
    cardNumber: "*****6892",
    name: "Pavlo",
    date1: "Jan 18,2022",
    date1ToCompare: "2022-01-18",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/5Tab.png",
    logoName: "Youtube",
    id: 7,
    link: "https://www.youtube.com/",
    cardType: "Visa",
    cardNumber: "*****8963",
    name: "Sofi",
    date1: "Jan 18,2022",
    date1ToCompare: "2022-01-18",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
  {
    logo: "img/1Tab.png",
    id: 8,
    logoName: "Figma",
    link: "https://www.figma.com/",
    cardType: "Visa",
    cardNumber: "*****1468",
    name: "Itai Bracha",
    date1: "Jan 5,2022",
    date1ToCompare: "2022-01-05",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
  {
    logo: "img/2Tab.png",
    logoName: "Abode XD",
    id: 9,
    link: "https://www.adobe.com/",
    cardType: "Visa",
    cardNumber: "*****2122",
    name: "Anna",
    date1: "Jan 10,2022",
    date1ToCompare: "2022-01-10",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
  {
    logo: "img/3Tab.png",
    logoName: "Mailchimp",
    id: 10,
    link: "https://mailchimp.com/",
    cardType: "Visa",
    cardNumber: "*****9632",
    name: "Kate",
    date1: "Jan 14,2022",
    date1ToCompare: "2022-01-14",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/4Tab.png",
    logoName: "WIX",
    id: 11,
    link: "https://www.wix.com/",
    status: "Pending",
    cardType: "Visa",
    cardNumber: "*****9876",
    name: "Bob",
    date1: "Jan 28,2022",
    date1ToCompare: "2022-01-28",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
  {
    logo: "img/1Tab.png",
    id: 12,
    logoName: "Figma",
    link: "https://www.figma.com/",
    cardType: "Visa",
    cardNumber: "*****2458",
    name: "Itai Bracha",
    date1: "Jan 5,2022",
    date1ToCompare: "2022-01-05",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
  {
    logo: "img/2Tab.png",
    logoName: "Abode XD",
    id: 13,
    link: "https://www.adobe.com/",
    cardType: "Visa",
    cardNumber: "*****4268",
    name: "Anna",
    date1: "Jan 10,2022",
    date1ToCompare: "2022-01-10",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/3Tab.png",
    logoName: "Mailchimp",
    id: 14,
    link: "https://mailchimp.com/",
    cardType: "Visa",
    cardNumber: "*****9456",
    name: "Kate",
    date1: "Jan 14,2022",
    date1ToCompare: "2022-01-14",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/4Tab.png",
    logoName: "WIX",
    id: 15,
    link: "https://www.wix.com/",
    status: "Pending",
    cardType: "Visa",
    cardNumber: "*****1025",
    name: "Bob",
    date1: "Jan 28,2022",
    date1ToCompare: "2022-01-28",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/5Tab.png",
    logoName: "Youtube",
    id: 16,
    link: "https://www.youtube.com/",
    cardType: "Visa",
    cardNumber: "*****8965",
    name: "Max",
    date1: "Jan 18,2022",
    date1ToCompare: "2022-01-18",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/5Tab.png",
    logoName: "Youtube",
    id: 17,
    link: "https://www.youtube.com/",
    cardType: "Visa",
    cardNumber: "*****6892",
    name: "Pavlo",
    date1: "Jan 18,2022",
    date1ToCompare: "2022-01-18",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/5Tab.png",
    logoName: "Youtube",
    id: 18,
    link: "https://www.youtube.com/",
    cardType: "Visa",
    cardNumber: "*****8963",
    name: "Sofi",
    date1: "Jan 18,2022",
    date1ToCompare: "2022-01-18",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
  {
    logo: "img/1Tab.png",
    id: 19,
    logoName: "Figma",
    link: "https://www.figma.com/",
    cardType: "Visa",
    cardNumber: "*****1468",
    name: "Itai Bracha",
    date1: "Jan 5,2022",
    date1ToCompare: "2022-01-05",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
  {
    logo: "img/2Tab.png",
    logoName: "Abode XD",
    id: 20,
    link: "https://www.adobe.com/",
    cardType: "Visa",
    cardNumber: "*****2122",
    name: "Anna",
    date1: "Jan 10,2022",
    date1ToCompare: "2022-01-10",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
  {
    logo: "img/3Tab.png",
    logoName: "Mailchimp",
    id: 21,
    link: "https://mailchimp.com/",
    cardType: "Visa",
    cardNumber: "*****9632",
    name: "Kate",
    date1: "Jan 14,2022",
    date1ToCompare: "2022-01-14",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    status: "Done",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },

  {
    logo: "img/4Tab.png",
    logoName: "WIX",
    id: 22,
    link: "https://www.wix.com/",
    status: "Pending",
    cardType: "Visa",
    cardNumber: "*****9876",
    name: "Bob",
    date1: "Jan 28,2022",
    date1ToCompare: "2022-01-28",
    date2: "Aug 2,2022",
    date2ToCompare: "2022-08-02",
    email: "Itai Bracha31@gmail.com",
    transaction: "$783,22",
    dot: "...",
  },
];
console.log(tableData);

const tbody = document.getElementById("list");

tbody.innerHTML =
  tbody.innerHTML +
  tableData.map((row) => {
    return `
        <tr>
            <td><input type="checkbox" name="checkbox-${row.id}"/></td>
            <td>
              <img class="img_ro" src="${row.logo}" alt="figma" />
            </td>
            <td class="data">
              <div>${row.logoName}</div>
              <div><a href="${row.link}">${row.logoName}</a></div>
            </td>
            <td class="data">
              <div>${row.cardType}</div>
              <div>${row.cardNumber}</div>
            </td>
            <td class="data">
              <div>${row.name}</div>
              <div>${row.email}</div>
            </td>
            <td class="data">
              <div>${row.date1}</div>
              <div>${row.transaction}</div>
            </td>
            <td class="status"><div class="${row.status.toLowerCase()}">${
      row.status
    }</div></td>
            <td class="date1">${row.date2}</td>
            <td id="totalMoney1" class="total">${row.transaction}</td>
            <td class="menu"><div>${row.dot}</div></td>
      </tr>

  `;
  });
// ==================================================================
let searchInput = document.getElementById("search");
let elements = [];
searchInput.addEventListener("keyup", () => {
  console.log(elements);
  let newMassive = tableData.filter((elementOfMassive) => {
    return (
      elementOfMassive.logoName.toLowerCase() == searchInput.value.toLowerCase()
    );
  });
  if (newMassive.length !== 0) {
    elements = newMassive.map((row) => {
      return `
    <tr>
        <td><input type="checkbox" name="checkbox-${row.id}"/></td>
        <td>
          <img class="img_ro" src="${row.logo}" alt="figma" />
        </td>
        <td class="data">
          <div>${row.logoName}</div>
          <div><a href="${row.link}">${row.logoName}</a></div>
        </td>
        <td class="data">
          <div>${row.cardType}</div>
          <div>${row.cardNumber}</div>
        </td>
        <td class="data">
          <div>${row.name}</div>
          <div>${row.email}</div>
        </td>
        <td class="data">
          <div>${row.date1}</div>
          <div>${row.transaction}</div>
        </td>
        <td class="status"><div class="${row.status.toLowerCase()}">${
        row.status
      }</div></td>
        <td class="date1">${row.date2}</td>
        <td id="totalMoney1" class="total">${row.transaction}</td>
        <td class="menu"><div>${row.dot}</div></td>
  </tr>
            `;
    });
    tbody.innerHTML = elements;
  }
});
// ==================================================================
let searchInputByName = document.getElementById("searchByName");

searchInputByName.addEventListener("keyup", () => {
  console.log(searchInputByName.value);
  let newMassive = tableData.filter((elementOfMassive) => {
    return (
      elementOfMassive.name.toLowerCase() ==
      searchInputByName.value.toLowerCase()
    );
  });
  if (newMassive.length !== 0) {
    elements = newMassive.map((row) => {
      return `
    <tr>
        <td><input type="checkbox" name="checkbox-${row.id}"/></td>
        <td>
          <img class="img_ro" src="${row.logo}" alt="figma" />
        </td>
        <td class="data">
          <div>${row.logoName}</div>
          <div><a href="${row.link}">${row.logoName}</a></div>
        </td>
        <td class="data">
          <div>${row.cardType}</div>
          <div>${row.cardNumber}</div>
        </td>
        <td class="data">
          <div>${row.name}</div>
          <div>${row.email}</div>
        </td>
        <td class="data">
          <div>${row.date1}</div>
          <div>${row.transaction}</div>
        </td>
        <td class="status"><div class="${row.status.toLowerCase()}">${
        row.status
      }</div></td>
        <td class="date1">${row.date2}</td>
        <td id="totalMoney1" class="total">${row.transaction}</td>
        <td class="menu"><div>${row.dot}</div></td>
  </tr>
            `;
    });
    tbody.innerHTML = elements;
  }
});
// ==================================================================

let statusInput = document.getElementById("statusInput");
console.log(moment().format("MMMM Do YYYY, h:mm:ss a"));
statusInput.addEventListener("keyup", () => {
  let newMassive = tableData.filter((elementOfMassive) => {
    return (
      elementOfMassive.status.toLowerCase() == statusInput.value.toLowerCase()
    );
  });
  if (newMassive.length !== 0) {
    elements = newMassive.map((row) => {
      return `
    <tr>
        <td><input type="checkbox" name="checkbox-${row.id}"/></td>
        <td>
          <img class="img_ro" src="${row.logo}" alt="figma" />
        </td>
        <td class="data">
          <div>${row.logoName}</div>
          <div><a href="${row.link}">${row.logoName}</a></div>
        </td>
        <td class="data">
          <div>${row.cardType}</div>
          <div>${row.cardNumber}</div>
        </td>
        <td class="data">
          <div>${row.name}</div>
          <div>${row.email}</div>
        </td>
        <td class="data">
          <div>${row.date1}</div>
          <div>${row.transaction}</div>
        </td>
        <td class="status"><div class="${row.status.toLowerCase()}">${
        row.status
      }</div></td>
        <td class="date1">${row.date2}</td>
        <td id="totalMoney1" class="total">${row.transaction}</td>
        <td class="menu"><div>${row.dot}</div></td>
  </tr>
            `;
    });
    tbody.innerHTML = elements;
  }
});

// let list = document.getElementById("listContainer");
// let firstListElement = document.getElementById("firstListElement");
// firstListElement.addEventListener("click", () => {
//   console.log("2");
//   list.classList.toggle("listContainerChanged");
//   firstListElement.classList.toggle("firstListElementChanged");
// });

// document.getElementById("clickElement1").addEventListener("click", () => {
//   list.style.width = "600px";
//   document
//     .getElementById("companyNameItem")
//     .classList.add("companyNameItemChanged");
// });
// document.getElementById("closeElement1").addEventListener("click", () => {
//   list.style.width = "300px";
//   document
//     .getElementById("companyNameItem")
//     .classList.remove("companyNameItemChanged");
// });

// document.getElementById("clickElement2").addEventListener("click", () => {
//   list.style.width = "600px";
//   document
//     .getElementById("userNameItem")
//     .classList.add("companyNameItemChanged");
// });
// document.getElementById("closeElement2").addEventListener("click", () => {
//   list.style.width = "300px";
//   document
//     .getElementById("userNameItem")
//     .classList.remove("companyNameItemChanged");
// });

// document.getElementById("clickElement3").addEventListener("click", () => {
//   list.style.width = "600px";
//   document
//     .getElementById("userStatusItem")
//     .classList.add("companyNameItemChanged");
// });
// document.getElementById("closeElement3").addEventListener("click", () => {
//   list.style.width = "300px";
//   document
//     .getElementById("userStatusItem")
//     .classList.remove("companyNameItemChanged");
// });
// document.getElementById("clickElement4").addEventListener("click", () => {
//   list.style.width = "600px";
//   document
//     .getElementById("userDateItem")
//     .classList.add("companyNameItemChanged");
// });
// document.getElementById("closeElement4").addEventListener("click", () => {
//   list.style.width = "300px";
//   document
//     .getElementById("userDateItem")
//     .classList.remove("companyNameItemChanged");
// });

// let dateOne = document.getElementById("firstDate1");
// let dateTwo = document.getElementById("lastDate2");

// document.getElementById("closeElement4").addEventListener("click", () => {
//   console.log(typeof dateOne.value);
// });

// let searchByDate = document
//   .getElementById("searchByDate")
//   .addEventListener("click", () => {
//     let newMassive = tableData.filter((elementOfMassive) => {
//       return (
//         elementOfMassive.date1ToCompare === dateOne.value &&
//         elementOfMassive.date2ToCompare === dateTwo.value
//       );
//     });
//     if (newMassive.length !== 0) {
//        elements = newMassive.map((row) => {
//       return `
//     <tr>
//         <td><input type="checkbox" name="checkbox-${row.id}"/></td>
//         <td>
//           <img class="img_ro" src="${row.logo}" alt="figma" />
//         </td>
//         <td class="data">
//           <div>${row.logoName}</div>
//           <div><a href="${row.link}">${row.logoName}</a></div>
//         </td>
//         <td class="data">
//           <div>${row.cardType}</div>
//           <div>${row.cardNumber}</div>
//         </td>
//         <td class="data">
//           <div>${row.name}</div>
//           <div>${row.email}</div>
//         </td>
//         <td class="data">
//           <div>${row.date1}</div>
//           <div>${row.transaction}</div>
//         </td>
//         <td class="status"><div class="${row.status.toLowerCase()}">${
//               row.status
//             }</div></td>
//         <td class="date1">${row.date2}</td>
//         <td id="totalMoney1" class="total">${row.transaction}</td>
//         <td class="menu"><div>${row.dot}</div></td>
//   </tr>
//             `;

//           } )
//     tbody.innerHTML =
//       `<tr>
//           <th></th>
//           <th colspan="2">Name</th>
//           <th colspan="2">User credentials</th>
//           <th>Last Transcation</th>
//           <th>Status</th>
//           <th>End date1</th>
//           <th>Total User</th>
//           <th></th>
//       </tr>` + elements

//         }
// });

// ========================pagination==========================================

const listElement = document.getElementById("list");
const paginationElement = document.getElementById("pagination");

let currentPage = 1;
let rows = 5;

function DisplayList(items, wrapper, rowsPerPage, page) {
  wrapper.innerHTML = "";
  page--;

  let start = rowsPerPage * page;
  let end = start + rowsPerPage;
  let paginatedItems = items.slice(start, end);
  console.log("items:", items);
  console.log("paginatedItems:", paginatedItems);
  console.log("start:", start);
  console.log("end", end);

  for (let i = 0; i < paginatedItems.length; i++) {
    let item = paginatedItems[i];
    let itemElement = document.createElement("tr");
    itemElement.classList.add("item");

    itemElement.innerHTML = `
    <td><input type="checkbox" name="checkbox-${item.id}"/></td>
    <td>
      <img class="img_ro" src="${item.logo}" alt="figma" />
    </td>
    <td class="data">
      <div>${item.logoName}</div>
      <div><a href="${item.link}">${item.logoName}</a></div>
    </td>
    <td class="data">
      <div>${item.cardType}</div>
      <div>${item.cardNumber}</div>
    </td>
    <td class="data">
      <div>${item.name}</div>
      <div>${item.email}</div>
    </td>
    <td class="data">
      <div>${item.date1}</div>
      <div>${item.transaction}</div>
    </td>
  <td class="status"><div class="${item.status.toLowerCase()}">${
      item.status
    }</div></td>
    <td class="date1">${item.date2}</td>
    <td id="totalMoney1" class="total">${item.transaction}</td>
    <td class="menu"><div>${item.dot}</div></td>

    

`;
    wrapper.appendChild(itemElement);
  }
}

function SetupPagination(items, wrapper, rowsPerPage) {
  wrapper.innerHtml = "";
  let pageCount = Math.ceil(items.length / rowsPerPage);
  for (let i = 1; i < pageCount + 1; i++) {
    let btn = PaginationButton(i);
    wrapper.appendChild(btn);
  }
}

function PaginationButton(page) {
  // let button = document.createElement('button');
  // button.innerText = page;

  // if (currentPage == page ) button.classList.add('active');

  // return button;
  let button = document.createElement("button");
  button.innerText = page;

  if (currentPage == page) button.classList.add("active");

  button.addEventListener("click", function () {
    currentPage = page;
    DisplayList(tableData, listElement, rows, currentPage);

    let currentBtn = document.querySelector(".pagenumbers button.active");
    currentBtn.classList.remove("active");

    button.classList.add("active");
  });

  return button;
}

DisplayList(tableData, listElement, rows, currentPage);
SetupPagination(tableData, paginationElement, rows);
